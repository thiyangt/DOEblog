<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>STA 225 2.0 Design and Analysis of Experiments</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr Thiyanga S. Talagala" />
    <meta name="date" content="2021-10-22" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
    <link href="libs/remark-css/duke-blue.css" rel="stylesheet" />
    <link href="libs/remark-css/hygge-duke.css" rel="stylesheet" />
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link rel="stylesheet" href="libs/cc-fonts.css" type="text/css" />
    <link rel="stylesheet" href="libs/figure-captions.css" type="text/css" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# STA 225 2.0 Design and Analysis of Experiments
## Lecture 2
### Dr Thiyanga S. Talagala
### 2021-10-22

---



&lt;style&gt;

.center2 {
  margin: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}

&lt;/style&gt;

&lt;style type="text/css"&gt;
.remark-slide-content {
    font-size: 30px;
}
&lt;/style&gt;




## General model of a process or system 

(Adapted from Montgomery, 2013)

---
background-image: url('process.png')
background-position: center
background-size: contain


---
background-image: url('input.png')
background-position: center
background-size: contain

---
background-image: url('input2.png')
background-position: center
background-size: contain

---

## Nuisance factors


- Nuisance factors are those that may affect the measured result, but are not of primary interest.


---

## **Statistical** design of experiments

The process of planning the experiment so that appropriate data that can be analyzed by statistical methods will be collected, resulting in valid and objective conclusions.

--

Two aspects of any experimental problem

1. The design of the experiment

2. The statistical analysis of data


---

## Basic principles of experimental design

- Replication

- Randomization

- Blocking


---

## Replication

Repetition of the same experiment

## Replicate

Each repition of the experiment is called **replication**.

Example:

A coconut farmer puts two fertilizers (A and B) to 18 plants and each fertilizer is given to nine plants. Then he has 9 replicated from each type of fertilizer.

---

## In-class 

.pull-left[

`\(y_A\)` vs `\(y_b\)`


]

.pull-right[

`\(\bar{y}_A\)` vs `\(\bar{y}_b\)`

]

---

## Replication (cont.)

1. Estimate experimental error. This is the primary unit of measurement for determining whether observed differences in the data are statistically significant.

2. If the sample mean ( `\(\bar{Y}\)` ) is used to estimate the effect of factors, replication allows the experimenter to obtain a more **precise** estimate of the effect.


(When the standard error is small, sample estimates are more precise; when the standard error is large, sample estimates are less precise.)

---

## Accuracy vs Precision


![](acc.jpeg)

---

**Distrinction between Replication and Repeated measurements**


Replication: entire experiment is performed more than once for a given set of independent variables. 

Repeated measurements: multiple measurements from the same experimental unit

--

**Example 1: Crystal Growth Experiment**

Independent Variable:  temperature of solutions (degrees fahrenheit)

Response variable: Crystal volume is measured three times.

--

In this case the observed variability in the three repeated measurements is a direct reflection of the inherent variability in the measurement instrument. 

---

## Your turn: Replication or not?

**Example 2: Crystal Growth Experiment**

Independent Variable:  temperature of solutions (degrees fahrenheit)

Response variable: Crystal volume is measured three times.

Four crystals are processed simultaneously form an substance and measurement is taken from each crystal.


<div class="countdown" id="timer_6172257c" style="right:0;bottom:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">02</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

## Randomization

- both the allocation of **experimental material** and the **order in which the individual runs or trials of the experiment are to be performed** are randomly determined.

- helps to average out the effects of extraneous factors that may be present.



---

## Example

Question: Is one fertilizer better than another, in terms of yield?

Outcome variable: Tomato yield.

Factor of interest: Fertilizer type, A or B. One factor having two levels.

Experimental material: One plot of land to be divided into 2 rows of 6
subplots each.

Potential sources of variation: Fertilizer, soil, sun, water, humidity, etc.

---

## How should we assign treatments to the plots?

![](crd1)

Experimental units will be randomly assigned to treatments by using lottery method.


---
background-image: url('crd1.png')
background-position: center
background-size: contain

---
background-image: url('crd2.png')
background-position: center
background-size: contain

---
background-image: url('crd3.png')
background-position: center
background-size: contain

---
background-image: url('crd4.png')
background-position: center
background-size: contain

---

## Blocking

- Blocking is a technique for dealing with controllable nuisance factors.

- A nuisance factor has some effect on the response, but it is of no interest to the experimenter. However, the variability it transmits to the response needs to be minimized.

- Randomization within blocks of homogeneous experimental units (Blocks are usually homogeneous and treatments will be randomly assigned within each block).

- Every block contains each of the treatment.

- Variability between blocks can be large, variability within a block should be relatively small.


---

# Example

- RCBD with 6 treatments each with 2 replications and 2 blocks

- Every block contains each of the treatment.

![](rcbd5.png)

Every block contains each of the treatment.


---

background-image: url('tea.jpeg')
background-position: center
background-size: cover

## Example: Blocking

---

## Example: Blocking

Hypothesis: Tea varieties (A versus B) affects tea yield

Experimental units: three plots of land, each to be divided into a `\(2 \times 2\)` grid

Outcome: Tea yield

Factor of interest: Tea varieties, A or B

Nuisance factor : Soil quality

---

# Design types

- Complete Randomized Design (CRD)

- Randomized Complete Block Design (RCBD)

- Latin Square Design

- Factorial Designs

---
class: center, middle, inverse

# **Complete Randomized Design (CRD)**

---

## Complete Randomized Design (CRD)

- The most basic type of statistical design

- Particularly useful when the experimental units are homogeneous

- Every experimental unit has an equal chance to receive any one of the treatments


---


## Example 1

Question: How the 4 diets (A, B, C, and D) affect the coagulation of rabbits? 

Treatment: Diet

Factor levels: A, B, C, D

Response: Time in seconds that it takes for a cut to stop bleeding (coagulation rate).

Experimental unit: 16 rabits

Replicates: 4


There are 16 rabbits (same age, weight, height) 

---
background-image: url('bunnies.jpeg')
background-position: center
background-size: cover

## Your turn

&lt;span style="color: white;"&gt;How should we use randomization to assign rabbits to four treatment group?&lt;/span&gt;




<div class="countdown" id="timer_617226ea" style="right:0;bottom:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>


---

## In-class 

---
background-image: url('packagefood.jpeg')
background-position: center
background-size: cover

# Example 2




---

# Example 2

A food company wished to test four different package designs for a new breakfast cereal. Ten stores, with approximately equal sales volumes, were selected as the experimental units. Each store was randomly assigned one of the package designs, with two of the package designs assigned to 3 stores each and other two designs to two stors each. Other relevant conditions besides package design, price, amount and location of shelf space and special promotional efforts were kept the same for all stores in the experiment. Sales, in number of cases, were observed for the study period. 

---
background-image: url('sales.png')
background-position: center
background-size: cover


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
